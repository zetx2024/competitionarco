<!DOCTYPE html>
<html>
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C5LLP0WEBK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-C5LLP0WEBK');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>2024 ScoreCard | IARCO - International Research Competition</title>
    <link rel="icon" href="assets/logo.png"/>
    <link rel="canonical" href="https://iarco.org/scorecard"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/fontawesome.min.css" integrity="sha384-BY+fdrpOd3gfeRvTSMT+VUZmA728cfF9Z2G42xpaRkUGu2i3DyzpTURDo5A6CaLK" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <script src="https://kit.fontawesome.com/0d89f9ac34.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="css/main.css" />

    <!-- Favicon and meta tags -->
    <link rel="icon" href="fevicon/favicon.ico"/>
    <link rel="apple-touch-icon" sizes="180x180" href="fevicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="fevicon/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="fevicon/favicon-512x512.png">
    <link rel="icon" type="image/png" sizes="32x32" href="fevicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="fevicon/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">

    <meta name="theme-color" content="#0749b3">
    <meta name="description" content="IARCO Scorecard - View your competition results and detailed evaluation"/>
    <meta name="keywords" content="research competition score, academic evaluation, research assessment, IARCO, scorecard"/>
    
    <!-- Social media meta tags -->
    <meta property="og:title" content="2024 ScoreCard | IARCO - International Research Competition"/>
    <meta property="og:description" content="View your competition results and detailed evaluation"/>
    <meta property="og:url" content="https://iarco.org/scorecard"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://iarco.org/assets/logo.png"/>

    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="2024 ScoreCard | IARCO - International Research Competition"/>
    <meta name="twitter:description" content="View your competition results and detailed evaluation"/>
    <meta name="twitter:image" content="https://iarco.org/assets/logo.png"/>

    <!-- Add html2pdf library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <!-- Scorecard Page Specific CSS -->
    <style>
        /* Preloader Styles */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 51, 102, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            flex-direction: column;
            transition: opacity 0.3s ease;
        }

        #preloader img {
            width: 100px;
            height: 100px;
            animation: pulse 1.5s infinite ease-in-out;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Scorecard Hero Section */
        .scorecard-hero {
            background: linear-gradient(135deg, #003366 0%, #001a33 100%);
            color: white;
            padding: 6rem 0 4rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .scorecard-hero:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,215,0,0.1) 0%, transparent 70%);
            z-index: 1;
        }

        .scorecard-hero h1 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            position: relative;
            z-index: 2;
            color: white;
        }

        .scorecard-hero h1 span {
            color: #ffd700;
            display: block;
        }

        .scorecard-hero p {
            font-size: 1.5rem;
            max-width: 800px;
            margin: 0 auto 2rem;
            position: relative;
            z-index: 2;
            opacity: 0.9;
        }

        /* Scorecard Container */
        .scorecard-container {
            background-color: #f8f9fa;
            padding: 4rem 0;
        }

        .scorecard-content {
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
            padding: 2.5rem;
            margin-bottom: 2rem;
            border-top: 5px solid #003366;
            transition: all 0.3s ease;
        }

        .scorecard-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 28px rgba(0, 0, 0, 0.12);
        }

        /* Search Section */
        .search-container {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border-left: 4px solid #ffd700;
            position: relative;
        }

        .search-container label {
            font-weight: 600;
            color: #003366;
            margin-right: 1rem;
        }

        .search-container input {
            padding: 0.75rem 1rem;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            width: 300px;
            max-width: 100%;
            transition: all 0.3s ease;
        }

        .search-container input:focus {
            border-color: #003366;
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 51, 102, 0.2);
        }

        .search-btn {
            background-color: #ffd700;
            color: #003366;
            font-weight: 600;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-left: 1rem;
        }

        .search-btn:hover {
            background-color: #003366;
            color: #ffd700;
            transform: translateY(-2px);
        }

        /* Suggestions Dropdown */
        .suggestions-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 0 0 6px 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            z-index: 100;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }

        .suggestion-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .suggestion-item:hover {
            background-color: #f8f9fa;
        }

        .suggestion-item.highlighted {
            background-color: rgba(0, 51, 102, 0.1);
        }

        /* Student Info Section */
        .student-info {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border-left: 4px solid #003366;
            animation: fadeIn 0.5s ease-out;
        }

        .student-info h2 {
            color: #003366;
            font-weight: 700;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.75rem;
        }

        .student-info h2:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: #ffd700;
        }

        .student-details {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .student-detail {
            flex: 1 1 200px;
        }

        .student-detail strong {
            color: #003366;
            display: block;
            margin-bottom: 0.25rem;
        }

        .proposal-title {
            font-size: 1.1rem;
            line-height: 1.5;
            color: #2c3e50;
            padding: 1rem;
            background-color: #f8f9fa;
            border-radius: 6px;
            margin: 1rem 0;
        }

        /* Country Flag */
        .country-flag {
            display: inline-flex;
            align-items: center;
            margin-left: 0.5rem;
        }

        .country-flag img {
            width: 20px;
            height: 15px;
            margin-right: 5px;
            border: 1px solid #ddd;
        }

        /* Score Tables */
        .score-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            animation: slideUp 0.5s ease-out;
        }

        .score-section h3 {
            color: #003366;
            font-weight: 700;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.75rem;
        }

        .score-section h3:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: #ffd700;
        }

        .score-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
        }

        .score-table th, .score-table td {
            padding: 1rem;
            text-align: center;
            border: 1px solid #e9ecef;
        }

        .score-table th {
            background-color: #003366;
            color: white;
            font-weight: 600;
        }

        .score-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        .score-table tr:hover {
            background-color: rgba(255, 215, 0, 0.1);
        }

        /* Score Summary */
        .score-summary {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .summary-card {
            flex: 1 1 300px;
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border-top: 4px solid #ffd700;
            transition: all 0.3s ease;
        }

        .summary-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .summary-card h4 {
            color: #003366;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .summary-card p {
            margin-bottom: 0.5rem;
        }

        .summary-card strong {
            color: #003366;
        }

        /* Comments Section */
        .comments-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border-left: 4px solid #ffd700;
            animation: fadeIn 0.7s ease-out;
        }

        .comments-section h3 {
            color: #003366;
            font-weight: 700;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.75rem;
        }

        .comments-section h3:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: #003366;
        }

        .comment-box {
            background-color: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
        }

        .comment-box h4 {
            color: #003366;
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
        }

        .comment-box p {
            color: #2c3e50;
            line-height: 1.6;
        }

        .document-link {
            display: inline-flex;
            align-items: center;
            background-color: #003366;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-right: 1rem;
            margin-bottom: 1rem;
        }

        .document-link:hover {
            background-color: #ffd700;
            color: #003366;
            transform: translateY(-2px);
        }

        .document-link i {
            margin-right: 0.5rem;
        }

        /* Chart Section */
        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            animation: fadeIn 0.7s ease-out;
        }

        .chart-container h3 {
            color: #003366;
            font-weight: 700;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.75rem;
        }

        .chart-container h3:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: #ffd700;
        }

        /* Download Button */
        .download-btn-container {
            text-align: center;
            margin: 20px 0;
        }
        .download-btn {
            background-color: #003366;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .download-btn:hover {
            background-color: #ffd700;
            color: #003366;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        }
        .download-btn i {
            margin-right: 8px;
        }

        /* PDF-specific styles */
        @media print {
            body {
                background: white !important;
                color: black !important;
                padding: 20px;
            }
            .scorecard-container, .scorecard-content, 
            .student-info, .score-section, .comments-section {
                box-shadow: none !important;
                border: none !important;
                margin-bottom: 15px !important;
                page-break-inside: avoid;
            }
            .document-link {
                color: #003366 !important;
                text-decoration: underline !important;
                background: none !important;
                padding: 0 !important;
            }
            .search-container, .navbar, footer, .download-btn-container {
                display: none !important;
            }
            .pdf-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
                border-bottom: 2px solid #003366;
                padding-bottom: 10px;
            }
            .pdf-header img {
                height: 60px;
            }
            .pdf-title {
                text-align: center;
                flex-grow: 1;
            }
            .pdf-title h1 {
                color: #003366 !important;
                margin-bottom: 5px !important;
            }
            .pdf-title p {
                color: #666 !important;
                font-size: 14px !important;
            }
            .pdf-footer {
                text-align: center;
                margin-top: 20px;
                font-size: 12px;
                color: #666;
                border-top: 1px solid #ddd;
                padding-top: 10px;
            }
            .page-break {
                page-break-before: always;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Responsive Adjustments */
        @media (max-width: 992px) {
            .scorecard-hero h1 {
                font-size: 2.8rem;
            }

            .scorecard-hero p {
                font-size: 1.3rem;
            }

            .search-container input {
                width: 100%;
                margin-bottom: 1rem;
            }

            .search-btn {
                margin-left: 0;
                width: 100%;
            }
        }

        @media (max-width: 768px) {
            .scorecard-hero h1 {
                font-size: 2.2rem;
            }

            .scorecard-hero p {
                font-size: 1.1rem;
            }

            .score-table th, .score-table td {
                padding: 0.75rem;
                font-size: 0.9rem;
            }

            .scorecard-content, .student-info, .score-section, .comments-section {
                padding: 1.5rem;
            }
        }

        @media (max-width: 576px) {
            .scorecard-hero {
                padding: 4rem 0 2rem;
            }

            .scorecard-hero h1 {
                font-size: 1.8rem;
            }

            .student-detail {
                flex: 1 1 100%;
            }

            .summary-card {
                flex: 1 1 100%;
            }
        }
    </style>
</head>

<body>
    <!-- Start Preloader -->
    <div id="preloader">
        <img src="assets/preloader.gif" alt="Loading...">
    </div>
    <!-- End Preloader -->

    <!-- start nav bar -->
    <nav class="navbar sticky-top navbar-expand-lg navbar-light sticky-top">
        <div class="container">
            <div class="d-flex align-items-center">
                <a class="navbar-brand text-uppercase" href="/">
                    <img src="assets/logo.png" width="80%" height="70px" class="d-inline-block align-top">
                </a>
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="fas fa-chart-bar"></i> About</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="what-is-iarco"><i class="fas fa-question"></i> What is IARCO?</a></li>
                            <li><a class="dropdown-item" href="iarco-backbone"><i class="fas fa-users"></i> IARCO Backbone</a></li>
                            <li><a class="dropdown-item" href="prizes"><i class="fas fa-trophy"></i> Prizes</a></li>
                            <li><a class="dropdown-item" href="partners"><i class="fas fa-handshake"></i> Partners</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="timeline"><i class="fas fa-calendar-alt"></i> Timeline</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="fab fa-hubspot"></i> Competition Hubs</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item active" href="bootcamps"><i class="fas fa-dumbbell"></i> Bootcamps</a></li>
                            <li><a class="dropdown-item" href="guidelines"><i class="fas fa-chalkboard-teacher"></i> Guidelines</a></li>
                            <li><a class="dropdown-item" href="2024-finalists"><i class="fas fa-running"></i> 2024 Finalists</a></li>
                            <li><a class="dropdown-item" href="2024-winners"><i class="fas fa-trophy"></i> 2024 Winners</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="faq"><i class="fas fa-question"></i> FAQs</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!--End NavBar section-->

    <!-- Scorecard Hero Section -->
    <section class="scorecard-hero">
        <div class="container">
            <h1>COMPETITION <span>SCORECARD</span></h1>
            <p>View your detailed evaluation and competition results</p>
        </div>
    </section>

    <!-- Scorecard Container -->
    <section class="scorecard-container">
        <div class="container">
            <!-- Search Section -->
            <div class="search-container">
                <div class="row align-items-center">
                    <div class="col-md-8 mb-3 mb-md-0">
                        <label for="student-search"><i class="fas fa-search"></i> Search by Student Name or ID:</label>
                        <input type="text" id="student-search" placeholder="Enter student name or ID" autocomplete="off">
                        <div class="suggestions-dropdown" id="suggestionsDropdown"></div>
                    </div>
                    <div class="col-md-4">
                        <button class="search-btn" id="search-btn">
                            <i class="fas fa-search"></i> Search
                        </button>
                    </div>
                </div>
            </div>

            <!-- Student Details Section -->
            <div class="scorecard-content" id="student-details">
                <div class="text-center py-5">
                    <i class="fas fa-user-graduate fa-3x mb-3" style="color: #003366;"></i>
                    <h3>Search for a student to view their scorecard</h3>
                    <p class="text-muted">Enter a student name or ID in the search box above</p>
                </div>
            </div>

            <!-- Download Button - Initially hidden -->
            <div class="download-btn-container" id="downloadBtnContainer" style="display: none;">
                <button class="download-btn" id="downloadPdf">
                    <i class="fas fa-file-pdf"></i> Download Scorecard as PDF
                </button>
            </div>
        </div>
    </section>

    <!-- PDF Template (hidden) -->
    <div id="pdfTemplate" style="display: none;">
        <div class="pdf-header">
            <img src="assets/logo.png" alt="IARCO Logo">
            <div class="pdf-title">
                <h1>International Academic Research Competition</h1>
                <p>Official Scorecard Report</p>
                <p id="reportDate"></p>
            </div>
            <div style="width: 60px;"></div>
        </div>

        <div id="pdfContent"></div>

        <div class="pdf-footer">
            <p>© ${new Date().getFullYear()} International Academic Research Competition. All rights reserved.</p>
            <p>This document is generated automatically and is valid without signature.</p>
        </div>
    </div>

    <!-- Start: Partner container-->
    <section id="Our_Affiliates" class="gallery-section">
        <div class="container">
            <h2>Administrated by</h2>
            <div class="gallery">
                <a href="https://yrjournal.org" target="_blank"><img src="https://yrjournal.org/fevicon/logo.png" alt="Youth Research Journal"></a>
            </div>
        </div>
    </section>
    <!--End: Partner container-->

    <!--start footer section-->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-sm-4 pb-3">
                    <img src="assets/logo.png" class="img-fluid">
                    <h4 style="color: white;">Contact Us</h4>
                    <p>Contact us at hello@iarco.org!</p>
                    <p><a href="terms-conditions">Terms & Conditions</a></p>
                </div>
                <div class="col-sm-4 pb-2">
                    <h4 style="color: white;">Social Media</h4>
                    <p><a href="https://www.facebook.com/iarco.org"><i class="fab fa-facebook-square"></i> Facebook</a></p>
                    <p><a href="https://www.instagram.com/intresearchcomp"><i class="fab fa-instagram"></i> Instagram</a></p>
                    <p><a href="https://www.youtube.com/@iarcomp"><i class="fab fa-youtube"></i> Youtube</a></p>
                    <p><a href="https://www.linkedin.com/company/iarco"><i class="fab fa-linkedin"></i> Linkedin</a></p>
                </div>

                <div class="col-sm-4 pb-1">
                    <h4 style="color: white;">Information</h4>
                    <p><a href="what-is-iarco"><i class="fas fa-chart-bar"></i> About Competition</a></p>
                    <p><a href="timeline"><i class="fas fa-calendar-alt"></i> Timeline</a></p>
                    <p><a href="prizes"><i class="fas fa-trophy"></i> Prizes</a></p>
                    <p><a href="bootcamps"><i class="fas fa-dumbbell"></i> Bootcamp</a></p>
                    <p><a href="https://cert.iarco.org/"><i class="fas fa-certificate"></i> Certificate</a></p>
                </div>
            </div>

            <div class="col-sm-4 pb-1 footer-subscribe">
                <h5>Subscribe to Our Newsletter</h5>
                <form class="subscribe-form" id="footer-subscribe-form">
                    <input name="email" type="email" placeholder="Your Email" required>
                    <button type="submit"><i class="fas fa-paper-plane"></i></button>
                </form>
                <div class="subscribe-message" id="footer-subscribe-message"></div>
            </div>
            
            <div class="rights">
                &copy; 2024 - <script>document.write(new Date().getFullYear());</script> All Rights reserved | International Academic Research Competition
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="js/plugins.js"></script>
    <script src="js/script_CP.js"></script>
    <script src="js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Scorecard Script -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let studentsData = [];
            let currentStudent = null;
            let researchChart = null;
            let presentationChart = null;
            let highlightedIndex = -1;

            // Hide preloader when everything is loaded
            setTimeout(() => {
                const preloader = document.getElementById('preloader');
                if (preloader) {
                    preloader.style.opacity = '0';
                    setTimeout(() => {
                        preloader.style.display = 'none';
                    }, 300);
                }
            }, 500);

            // Fetch student data from JSON file
            fetch('finalist2024.json')
                .then(response => response.json())
                .then(data => {
                    studentsData = data;
                    console.log("Students data loaded:", studentsData);
                    setupSearch();
                })
                .catch(error => {
                    console.error('Error loading student data:', error);
                    // Hide preloader even if there's an error
                    document.getElementById('preloader').style.display = 'none';
                });

            // Setup search functionality
            function setupSearch() {
                const searchInput = document.getElementById('student-search');
                const searchBtn = document.getElementById('search-btn');
                const suggestionsDropdown = document.getElementById('suggestionsDropdown');

                // Input event for search suggestions
                searchInput.addEventListener('input', function() {
                    const searchTerm = this.value.toLowerCase();
                    if (searchTerm.length < 2) {
                        suggestionsDropdown.style.display = 'none';
                        return;
                    }

                    const matches = studentsData.filter(s => 
                        s.name.toLowerCase().includes(searchTerm) || 
                        (s.student_id && s.student_id.toLowerCase().includes(searchTerm))
                    ).slice(0, 5);

                    if (matches.length > 0) {
                        suggestionsDropdown.innerHTML = matches.map((student, index) => `
                            <div class="suggestion-item ${index === 0 ? 'highlighted' : ''}" 
                                 data-index="${index}" 
                                 data-id="${student.student_id}">
                                ${student.name} (${student.student_id || 'No ID'}) - ${student.school}
                                ${student.country ? `<span class="country-flag"><img src="https://flagcdn.com/16x12/${student.country.toLowerCase()}.png" alt="${student.country}"></span>` : ''}
                            </div>
                        `).join('');
                        suggestionsDropdown.style.display = 'block';
                        highlightedIndex = 0;
                    } else {
                        suggestionsDropdown.style.display = 'none';
                    }
                });

                // Keyboard navigation in suggestions
                searchInput.addEventListener('keydown', function(e) {
                    const items = suggestionsDropdown.querySelectorAll('.suggestion-item');
                    if (items.length === 0) return;

                    if (e.key === 'ArrowDown') {
                        e.preventDefault();
                        highlightedIndex = (highlightedIndex + 1) % items.length;
                        updateHighlightedItem();
                    } else if (e.key === 'ArrowUp') {
                        e.preventDefault();
                        highlightedIndex = (highlightedIndex - 1 + items.length) % items.length;
                        updateHighlightedItem();
                    } else if (e.key === 'Enter') {
                        e.preventDefault();
                        if (highlightedIndex >= 0 && items[highlightedIndex]) {
                            items[highlightedIndex].click();
                        } else {
                            searchForStudent();
                        }
                    }
                });

                // Click on suggestion
                suggestionsDropdown.addEventListener('click', function(e) {
                    const item = e.target.closest('.suggestion-item');
                    if (item) {
                        const studentId = item.getAttribute('data-id');
                        const student = studentsData.find(s => s.student_id === studentId);
                        if (student) {
                            currentStudent = student;
                            generateScorecard(student);
                            document.getElementById('downloadBtnContainer').style.display = 'block';
                            suggestionsDropdown.style.display = 'none';
                        }
                    }
                });

                // Search button click
                searchBtn.addEventListener('click', searchForStudent);

                // Hide suggestions when clicking outside
                document.addEventListener('click', function(e) {
                    if (!searchInput.contains(e.target) {
                        suggestionsDropdown.style.display = 'none';
                    }
                });

                function updateHighlightedItem() {
                    const items = suggestionsDropdown.querySelectorAll('.suggestion-item');
                    items.forEach((item, index) => {
                        if (index === highlightedIndex) {
                            item.classList.add('highlighted');
                            item.scrollIntoView({ block: 'nearest' });
                        } else {
                                                    item.classList.remove('highlighted');
                    }
                });
            }
        }

        // Search function for students
        function searchForStudent(searchTerm = null) {
            const searchInput = document.getElementById('student-search');
            const term = searchTerm || searchInput.value.toLowerCase();
            
            if (!term) {
                showError("Please enter a student name or ID to search.");
                return;
            }

            const student = studentsData.find(s => 
                s.name.toLowerCase().includes(term) || 
                (s.student_id && s.student_id.toLowerCase().includes(term))
            );
            
            if (student) {
                currentStudent = student;
                generateScorecard(student);
                document.getElementById('downloadBtnContainer').style.display = 'block';
            } else {
                showError("Student not found! Please check the name or ID and try again.");
                document.getElementById('downloadBtnContainer').style.display = 'none';
            }
        }

        // Function to show error message
        function showError(message) {
            const container = document.getElementById("student-details");
            container.innerHTML = `
                <div class="text-center py-5">
                    <i class="fas fa-exclamation-triangle fa-3x mb-3" style="color: #dc3545;"></i>
                    <h3>${message}</h3>
                    <p class="text-muted">Please try again with a different search term</p>
                </div>
            `;
        }

        // Function to generate scorecard on the page
        function generateScorecard(student) {
            const container = document.getElementById("student-details");
            container.innerHTML = '';  // Clear previous content

            const { name, student_id, school, category, year, country, research_proposal_title, research_paper, proposal_comment, presentation_comment, viewProposal, videoPitch } = student;
            const paperScores = research_paper;
            const presentationScores = paperScores.presentation;

            // Calculate total Research Paper score
            const researchPaperScore = calculateScore(
                paperScores.research_problem, 
                paperScores.existing_literature, 
                paperScores.research_question, 
                paperScores.methodology, 
                paperScores.research_topic, 
                paperScores.quality_of_writing
            );

            // Calculate total Presentation score
            const presentationScore = calculateScore(
                presentationScores.persuasiveness, 
                presentationScores.video_quality, 
                presentationScores.research_problem, 
                presentationScores.research_question, 
                presentationScores.methodology
            );

            // Apply plagiarism penalty
            const plagiarismPenalty = calculatePlagiarismPenalty(paperScores.plagiarism_check_percentile);

            // Calculate Submission Score
            const submissionScore = researchPaperScore + presentationScore;

            // Final score after penalty
            const finalScore = Math.floor(submissionScore - plagiarismPenalty);

            // Plagiarism adjusted score
            const plagiarismAdjustedScore = submissionScore - plagiarismPenalty;

            // Add content to the page
            container.innerHTML = `
                <!-- Student Info Section -->
                <div class="student-info">
                    <h2><i class="fas fa-user-graduate"></i> Student Information</h2>
                    <div class="student-details">
                        <div class="student-detail">
                            <strong>Student ID:</strong>
                            <span>${student_id}</span>
                        </div>
                        <div class="student-detail">
                            <strong>Name:</strong>
                            <span>${name}</span>
                        </div>
                        <div class="student-detail">
                            <strong>Institution:</strong>
                            <span>${school}</span>
                        </div>
                        <div class="student-detail">
                            <strong>Country:</strong>
                            <span>${country} ${country ? `<span class="country-flag"><img src="https://flagcdn.com/16x12/${country.toLowerCase()}.png" alt="${country}"></span>` : ''}</span>
                        </div>
                        <div class="student-detail">
                            <strong>Category:</strong>
                            <span>${category}</span>
                        </div>
                        <div class="student-detail">
                            <strong>Year:</strong>
                            <span>${year}</span>
                        </div>
                    </div>
                    <div class="proposal-title">
                        <strong>Research Proposal Title:</strong> ${research_proposal_title}
                    </div>
                </div>

                <!-- Research Paper Score Section -->
                <div class="score-section">
                    <h3><i class="fas fa-file-alt"></i> Research Paper Score: ${researchPaperScore}/100</h3>
                    <div class="table-responsive">
                        <table class="score-table">
                            <thead>
                                <tr>
                                    <th>Criteria</th>
                                    <th>Obtained Marks</th>
                                    <th>Full Marks</th>
                                    <th>Percentage</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Research Problem</td>
                                    <td>${paperScores.research_problem}</td>
                                    <td>20</td>
                                    <td>${((paperScores.research_problem / 20) * 100).toFixed(1)}%</td>
                                </tr>
                                <tr>
                                    <td>Existing Literature</td>
                                    <td>${paperScores.existing_literature}</td>
                                    <td>10</td>
                                    <td>${((paperScores.existing_literature / 10) * 100).toFixed(1)}%</td>
                                </tr>
                                <tr>
                                    <td>Research Question</td>
                                    <td>${paperScores.research_question}</td>
                                    <td>25</td>
                                    <td>${((paperScores.research_question / 25) * 100).toFixed(1)}%</td>
                                </tr>
                                <tr>
                                    <td>Methodology</td>
                                    <td>${paperScores.methodology}</td>
                                    <td>25</td>
                                    <td>${((paperScores.methodology / 25) * 100).toFixed(1)}%</td>
                                </tr>
                                <tr>
                                    <td>Research Topic</td>
                                    <td>${paperScores.research_topic}</td>
                                    <td>15</td>
                                    <td>${((paperScores.research_topic / 15) * 100).toFixed(1)}%</td>
                                </tr>
                                <tr>
                                    <td>Quality of Writing</td>
                                    <td>${paperScores.quality_of_writing}</td>
                                    <td>5</td>
                                    <td>${((paperScores.quality_of_writing / 5) * 100).toFixed(1)}%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Presentation Score Section -->
                <div class="score-section">
                    <h3><i class="fas fa-video"></i> Presentation Score: ${presentationScore}/100</h3>
                    <div class="table-responsive">
                        <table class="score-table">
                            <thead>
                                <tr>
                                    <th>Criteria</th>
                                    <th>Obtained Marks</th>
                                    <th>Full Marks</th>
                                    <th>Percentage</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Persuasiveness</td>
                                    <td>${presentationScores.persuasiveness}</td>
                                    <td>20</td>
                                    <td>${((presentationScores.persuasiveness / 20) * 100).toFixed(1)}%</td>
                                </tr>
                                <tr>
                                    <td>Video Quality</td>
                                    <td>${presentationScores.video_quality}</td>
                                    <td>20</td>
                                    <td>${((presentationScores.video_quality / 20) * 100).toFixed(1)}%</td>
                                </tr>
                                <tr>
                                    <td>Research Problem</td>
                                    <td>${presentationScores.research_problem}</td>
                                    <td>20</td>
                                    <td>${((presentationScores.research_problem / 20) * 100).toFixed(1)}%</td>
                                </tr>
                                <tr>
                                    <td>Research Question</td>
                                    <td>${presentationScores.research_question}</td>
                                    <td>20</td>
                                    <td>${((presentationScores.research_question / 20) * 100).toFixed(1)}%</td>
                                </tr>
                                <tr>
                                    <td>Methodology</td>
                                    <td>${presentationScores.methodology}</td>
                                    <td>20</td>
                                    <td>${((presentationScores.methodology / 20) * 100).toFixed(1)}%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Score Summary Section -->
                <div class="score-section">
                    <h3><i class="fas fa-calculator"></i> Score Summary</h3>
                    <div class="score-summary">
                        <div class="summary-card">
                            <h4><i class="fas fa-clipboard-check"></i> Plagiarism Check</h4>
                            <p><strong>Plagiarism Percentile:</strong> ${paperScores.plagiarism_check_percentile}%</p>
                            <p><strong>Plagiarism Penalty:</strong> ${plagiarismPenalty} points</p>
                            <div class="progress mt-3" style="height: 10px;">
                                <div class="progress-bar ${getPlagiarismColorClass(paperScores.plagiarism_check_percentile)}" 
                                     role="progressbar" 
                                     style="width: ${paperScores.plagiarism_check_percentile}%" 
                                     aria-valuenow="${paperScores.plagiarism_check_percentile}" 
                                     aria-valuemin="0" 
                                     aria-valuemax="100">
                                </div>
                            </div>
                        </div>
                        <div class="summary-card">
                            <h4><i class="fas fa-tasks"></i> Submission Score</h4>
                            <p><strong>Research Paper:</strong> ${researchPaperScore}/100</p>
                            <p><strong>Presentation:</strong> ${presentationScore}/100</p>
                            <p><strong>Total Score:</strong> ${submissionScore}/200</p>
                        </div>
                        <div class="summary-card">
                            <h4><i class="fas fa-award"></i> Final Score</h4>
                            <p><strong>Plagiarism Adjusted Score:</strong> ${plagiarismAdjustedScore}</p>
                            <p><strong>Final Score:</strong> ${finalScore}</p>
                            <p><strong>Percentage:</strong> ${((finalScore / 200) * 100).toFixed(1)}%</p>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="chart-container">
                    <h3><i class="fas fa-chart-bar"></i> Performance Charts</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <canvas id="researchChart" height="300"></canvas>
                        </div>
                        <div class="col-md-6">
                            <canvas id="presentationChart" height="300"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Comments Section -->
                <div class="comments-section">
                    <h3><i class="fas fa-comments"></i> Evaluator Comments</h3>
                    <div class="document-links mb-4">
                        ${viewProposal ? `<a href="${viewProposal}" target="_blank" class="document-link">
                            <i class="fas fa-file-pdf"></i> View Research Proposal
                        </a>` : ''}
                        ${videoPitch ? `<a href="${videoPitch}" target="_blank" class="document-link">
                            <i class="fas fa-video"></i> View Video Pitch
                        </a>` : ''}
                    </div>
                    <div class="comment-box">
                        <h4><i class="fas fa-file-signature"></i> Research Paper Comments</h4>
                        <p>${proposal_comment}</p>
                    </div>
                    <div class="comment-box">
                        <h4><i class="fas fa-video"></i> Presentation Comments</h4>
                        <p>${presentation_comment}</p>
                    </div>
                </div>
            `;

            // Create charts
            createResearchChart(paperScores);
            createPresentationChart(presentationScores);
        }

        // Function to create research paper chart
        function createResearchChart(scores) {
            const ctx = document.getElementById('researchChart').getContext('2d');
            
            if (researchChart) {
                researchChart.destroy();
            }
            
            researchChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Research Problem', 'Existing Literature', 'Research Question', 'Methodology', 'Research Topic', 'Quality of Writing'],
                    datasets: [{
                        label: 'Your Score',
                        data: [
                            scores.research_problem, 
                            scores.existing_literature, 
                            scores.research_question, 
                            scores.methodology, 
                            scores.research_topic, 
                            scores.quality_of_writing
                        ],
                        backgroundColor: 'rgba(0, 51, 102, 0.2)',
                        borderColor: 'rgba(0, 51, 102, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(255, 215, 0, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(255, 215, 0, 1)'
                    }, {
                        label: 'Maximum Score',
                        data: [20, 10, 25, 25, 15, 5],
                        backgroundColor: 'rgba(255, 215, 0, 0.1)',
                        borderColor: 'rgba(255, 215, 0, 0.5)',
                        borderWidth: 1,
                        pointBackgroundColor: 'rgba(255, 215, 0, 0.5)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(255, 215, 0, 0.5)'
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        r: {
                            angleLines: {
                                display: true,
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            suggestedMin: 0,
                            suggestedMax: 25,
                            ticks: {
                                backdropColor: 'rgba(255, 255, 255, 0.8)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: '#003366',
                                font: {
                                    weight: 'bold'
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'Research Paper Evaluation',
                            color: '#003366',
                            font: {
                                size: 16,
                                weight: 'bold'
                            }
                        }
                    },
                    elements: {
                        line: {
                            tension: 0.1
                        }
                    }
                }
            });
        }

        // Function to create presentation chart
        function createPresentationChart(scores) {
            const ctx = document.getElementById('presentationChart').getContext('2d');
            
            if (presentationChart) {
                presentationChart.destroy();
            }
            
            presentationChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Persuasiveness', 'Video Quality', 'Research Problem', 'Research Question', 'Methodology'],
                    datasets: [{
                        label: 'Your Score',
                        data: [
                            scores.persuasiveness, 
                            scores.video_quality, 
                            scores.research_problem, 
                            scores.research_question, 
                            scores.methodology
                        ],
                        backgroundColor: [
                            'rgba(0, 51, 102, 0.7)',
                            'rgba(0, 51, 102, 0.7)',
                            'rgba(0, 51, 102, 0.7)',
                            'rgba(0, 51, 102, 0.7)',
                            'rgba(0, 51, 102, 0.7)'
                        ],
                        borderColor: [
                            'rgba(0, 51, 102, 1)',
                            'rgba(0, 51, 102, 1)',
                            'rgba(0, 51, 102, 1)',
                            'rgba(0, 51, 102, 1)',
                            'rgba(0, 51, 102, 1)'
                        ],
                        borderWidth: 1
                    }, {
                        label: 'Maximum Score',
                        data: [20, 20, 20, 20, 20],
                        backgroundColor: [
                            'rgba(255, 215, 0, 0.3)',
                            'rgba(255, 215, 0, 0.3)',
                            'rgba(255, 215, 0, 0.3)',
                            'rgba(255, 215, 0, 0.3)',
                            'rgba(255, 215, 0, 0.3)'
                        ],
                        borderColor: [
                            'rgba(255, 215, 0, 0.5)',
                            'rgba(255, 215, 0, 0.5)',
                            'rgba(255, 215, 0, 0.5)',
                            'rgba(255, 215, 0, 0.5)',
                            'rgba(255, 215, 0, 0.5)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 20,
                            ticks: {
                                color: '#003366',
                                font: {
                                    weight: 'bold'
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#003366',
                                font: {
                                    weight: 'bold'
                                }
                            },
                            grid: {
                                display: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: '#003366',
                                font: {
                                    weight: 'bold'
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'Presentation Evaluation',
                            color: '#003366',
                            font: {
                                size: 16,
                                weight: 'bold'
                            }
                        }
                    }
                }
            });
        }

        // Function to calculate the score based on the sum of individual criteria
        function calculateScore(...scores) {
            return scores.reduce((acc, score) => acc + score, 0);
        }

        // Function to calculate plagiarism penalty based on percentile
        function calculatePlagiarismPenalty(plagiarismPercentile) {
            let penalty = 0;

            if (plagiarismPercentile >= 0 && plagiarismPercentile <= 5) {
                penalty = 15; // High penalty
            } else if (plagiarismPercentile >= 6 && plagiarismPercentile <= 20) {
                penalty = 0;  // No penalty
            } else if (plagiarismPercentile >= 21 && plagiarismPercentile <= 30) {
                penalty = 20; // Moderate penalty
            } else if (plagiarismPercentile > 30) {
                penalty = 30; // High penalty
            }

            return penalty;
        }

        // Function to get plagiarism color class
        function getPlagiarismColorClass(percentile) {
            if (percentile <= 5) return 'bg-success';
            if (percentile <= 20) return 'bg-primary';
            if (percentile <= 30) return 'bg-warning';
            return 'bg-danger';
        }

        // PDF Generation Functionality
        document.getElementById('downloadPdf').addEventListener('click', generatePdf);

        function generatePdf() {
            if (!currentStudent) {
                alert('Please search for and view a student scorecard first.');
                return;
            }

            // Update report date
            const now = new Date();
            document.getElementById('reportDate').textContent = `Generated: ${now.toLocaleDateString()} at ${now.toLocaleTimeString()}`;

            // Clone the visible content
            const content = document.getElementById('student-details').cloneNode(true);
            
            // Remove elements we don't want in PDF
            content.querySelectorAll('.search-container, .navbar, footer, .download-btn-container').forEach(el => el.remove());
            
            // Insert into PDF template
            const pdfContent = document.getElementById('pdfContent');
            pdfContent.innerHTML = '';
            pdfContent.appendChild(content);
            
            // Make charts visible for PDF (they're canvas elements)
            const pdfTemplate = document.getElementById('pdfTemplate');
            pdfTemplate.style.display = 'block';
            
            // Options for pdf generation
            const options = {
                margin: 10,
                filename: `IARCO_Scorecard_${currentStudent.name.replace(/\s+/g, '_')}.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { 
                    scale: 2,
                    logging: true,
                    useCORS: true,
                    allowTaint: true,
                    scrollX: 0,
                    scrollY: 0
                },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },
                pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }
            };

            // Generate PDF
            html2pdf().from(pdfTemplate).set(options).save().then(() => {
                // Hide the template again after generation
                pdfTemplate.style.display = 'none';
            });
        }

        // Footer subscription form handling
        const FscriptURL = 'https://script.google.com/macros/s/AKfycbzygrg2R9ubz8wwovssC4UUhXLbEMjqSh3So08-cFXnVvAxRiHm9H0tPszGrF4i4dtJ1g/exec';
        const Fform = document.forms['footer-subscribe-form'];
        const FSubId = document.getElementById("footer-subscribe-message");

        Fform.addEventListener('submit', e => {
            e.preventDefault();
            fetch(FscriptURL, { method: 'POST', body: new FormData(Fform)})
                .then(response => {
                    FSubId.innerHTML = "Thank You for Subscribing us!";
                    setTimeout(function() {
                        FSubId.innerHTML = "";
                    }, 3000);
                    Fform.reset();
                })
                .catch(error => console.error('Error!', error.message));
        });
    });
</script>

</body> </html> 
